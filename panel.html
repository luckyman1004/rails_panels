<html ng-app="" ng-csp="">
  <head>
    <link rel="stylesheet" type="text/css" href="assets/stylesheets/panel.css">
    <script src="vendor/javascripts/jquery-1.8.3.min.js"></script>
    <script src="vendor/javascripts/sugar-1.3.6.min.js"></script>
    <script src="vendor/javascripts/angular.min.js"></script>
    <script src="assets/javascripts/transactions.js"></script>
    <script src="assets/javascripts/panel.js"></script>
  </head>
  <body>
    <div class="split-view" ng-controller='TransactionsCtrl'>
      <div class="split-view-contents split-view-contents-details">
        <div class="tabbed-pane">
          <div class="tabbed-pane-header">
            <div class="tabbed-pane-header-contents">
              <div class="tabbed-pane-header-tabs">
                <div class="tabbed-pane-header-tab selected">
                  <span class="tabbed-pane-header-tab-title">Views</span>
                </div>
                <div class="tabbed-pane-header-tab">
                  <span class="tabbed-pane-header-tab-title">DB</span>
                </div>
              </div>
            </div>
          </div> 
          <div class="tabbed-pane-content">
            <table id="views">
              <tr>
                <th>Template</th>
                <th>Duration</th>
              </tr>
              <tr ng-repeat="view in activeViews">
                <td>{{view.payload.identifier}}</td>
                <td>{{view.duration}}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="split-view-contents split-view-contents-requests">
        <div class="data-grid">
          <table class="header">
            <tr>
              <th class='path'>Path</th>
              <th class='method'>Method</th>
              <th class='controller'>Controller#Action</th>
              <th class='format'>Format</th>
              <th class='status'>Status</th>
              <th class='view'>View</th>
              <th class='db'>DB</th>
              <th class='duration'>Duration</th>
            </tr>
          </table>
          <div class="data-container">
            <table id="log">
              <tr ng-repeat="request in requests">
                <td class='path'
                  ng-click="setActive(request.transactionId)">{{request.path}}</td>
                <td class='method'>{{request.method}}</td>
                <td class='controller'>{{request.controller}}#{{request.action}}</td>
                <td class='format'>{{request.format}}</td>
                <td class='status'>{{request.status}}</td>
                <td class='view'>{{request.view}}</td>
                <td class='db'>{{request.db}}</td>
                <td class='duration'>{{request.duration}}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
